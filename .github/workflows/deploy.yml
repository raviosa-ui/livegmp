name: üîí Deploy to LiveGMP.in via SFTP (Port 22) - Wangyucode

on:
  push:
    branches:
      - main 

jobs:
  web_deploy:
    name: SFTP Deployment
    runs-on: ubuntu-latest

    steps:
      - name: ‚¨áÔ∏è Checkout Repository
        uses: actions/checkout@v4
        
      - name: üöÄ SFTP Uploader Deployment
        # ACTION CHANGE: Using a dedicated SFTP password action
        uses: wangyucode/sftp-upload-action@v2.0.4 
        with:
          # --- DREAMHOST CREDENTIALS (from GitHub Secrets) ---
          host: ${{ secrets.DH_HOST }}
          username: ${{ secrets.DH_USER }}
          password: ${{ secrets.DH_PASS }}
          port: 22 

          # --- DIRECTORY PATHS ---
          # Local directory: . means the root of the repo
          localDir: "."
          
          # Server directory: The absolute path on DreamHost
          remoteDir: '/home/${{ secrets.DH_USER }}/livegmp.in/'

          # --- OPTIONS ---
          # Optional: Force upload all files
          forceUpload: true
