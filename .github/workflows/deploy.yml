name: üîí Deploy to LiveGMP.in via SFTP (Port 22) - FINAL FIX

on:
  push:
    branches:
      - main 

jobs:
  web_deploy:
    name: SFTP Deployment
    runs-on: ubuntu-latest

    steps:
      - name: ‚¨áÔ∏è Checkout Repository
        uses: actions/checkout@v4
        
      - name: üöÄ SFTP Uploader Deployment
        uses: wangyucode/sftp-upload-action@v2.0.4 
        with:
          # --- DREAMHOST CREDENTIALS (from GitHub Secrets) ---
          host: ${{ secrets.DH_HOST }}
          username: ${{ secrets.DH_USER }}
          password: ${{ secrets.DH_PASS }}
          port: 22 

          # --- DIRECTORY PATHS ---
          localDir: "."
          remoteDir: '/home/${{ secrets.DH_USER }}/livegmp.in/'

          # --- CRUCIAL FIX: IGNORE ALL DOT FILES ---
          # This permanently prevents .git, .github, and .sftpignore from being uploaded.
          ignore_dot_files: true 

          # --- OPTIONS ---
          forceUpload: true
